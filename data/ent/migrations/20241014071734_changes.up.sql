-- create "sys_apis" table
CREATE TABLE `sys_apis` (`id` bigint unsigned NOT NULL COMMENT "primary key" AUTO_INCREMENT, `created_at` timestamp NOT NULL COMMENT "created time", `updated_at` timestamp NOT NULL COMMENT "last update time", `path` varchar(255) NOT NULL COMMENT "API path | API 路径", `description` varchar(255) NOT NULL COMMENT "API description | API 描述", `api_group` varchar(255) NOT NULL COMMENT "API group | API 分组", `method` varchar(255) NOT NULL DEFAULT 'POST' COMMENT "HTTP method | HTTP 请求类型", PRIMARY KEY (`id`), UNIQUE INDEX `api_path_method` (`path`, `method`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- create "sys_dictionaries" table
CREATE TABLE `sys_dictionaries` (`id` bigint unsigned NOT NULL COMMENT "primary key" AUTO_INCREMENT, `created_at` timestamp NOT NULL COMMENT "created time", `updated_at` timestamp NOT NULL COMMENT "last update time", `status` tinyint unsigned NULL DEFAULT 1 COMMENT "status 1 normal 0 ban | 状态 1 正常 0 禁用", `title` varchar(255) NOT NULL COMMENT "the title shown in the ui | 展示名称 （建议配合i18n）", `name` varchar(255) NOT NULL COMMENT "the name of dictionary for search | 字典搜索名称", `description` varchar(255) NOT NULL COMMENT "the description of dictionary | 字典描述", PRIMARY KEY (`id`), UNIQUE INDEX `name` (`name`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- create "sys_dictionary_details" table
CREATE TABLE `sys_dictionary_details` (`id` bigint unsigned NOT NULL COMMENT "primary key" AUTO_INCREMENT, `created_at` timestamp NOT NULL COMMENT "created time", `updated_at` timestamp NOT NULL COMMENT "last update time", `status` tinyint unsigned NULL DEFAULT 1 COMMENT "status 1 normal 0 ban | 状态 1 正常 0 禁用", `title` varchar(255) NOT NULL COMMENT "the title shown in the ui | 展示名称 （建议配合i18n）", `key` varchar(255) NOT NULL COMMENT "key | 键", `value` varchar(255) NOT NULL COMMENT "value | 值", `dictionary_id` bigint unsigned NULL, PRIMARY KEY (`id`), UNIQUE INDEX `dictionarydetail_key_dictionary_id` (`key`, `dictionary_id`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- create "sys_logs" table
CREATE TABLE `sys_logs` (`id` bigint unsigned NOT NULL COMMENT "primary key" AUTO_INCREMENT, `created_at` timestamp NOT NULL COMMENT "created time", `updated_at` timestamp NOT NULL COMMENT "last update time", `type` varchar(255) NOT NULL COMMENT "type of log | 日志类型", `method` varchar(255) NOT NULL COMMENT "method of log | 日志请求方法", `api` varchar(255) NOT NULL COMMENT "api of log | 日志请求api", `success` bool NOT NULL COMMENT "success of log | 日志请求是否成功", `req_content` varchar(512) NULL COMMENT "content of request log | 日志请求内容", `resp_content` varchar(512) NULL COMMENT "content of response log | 日志返回内容", `ip` varchar(255) NULL COMMENT "ip of log | 日志IP", `user_agent` varchar(255) NULL COMMENT "user_agent of log | 日志用户客户端", `operator` varchar(255) NULL COMMENT "operator of log | 日志操作者", `time` bigint NULL COMMENT "time of log(millisecond) | 日志时间(毫秒)", PRIMARY KEY (`id`), INDEX `logs_api` (`api`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- create "sys_menus" table
CREATE TABLE `sys_menus` (`id` bigint unsigned NOT NULL COMMENT "primary key" AUTO_INCREMENT, `created_at` timestamp NOT NULL COMMENT "created time", `updated_at` timestamp NOT NULL COMMENT "last update time", `menu_level` int unsigned NOT NULL COMMENT "menu level | 菜单层级", `menu_type` int unsigned NOT NULL COMMENT "menu type | 菜单类型 0 目录 1 菜单 2 按钮", `path` varchar(255) NULL DEFAULT '' COMMENT "index path | 菜单路由路径", `name` varchar(255) NOT NULL COMMENT "index name | 菜单名称", `redirect` varchar(255) NULL DEFAULT '' COMMENT "redirect path | 跳转路径 （外链）", `component` varchar(255) NULL DEFAULT '' COMMENT "the path of vue file | 组件路径", `order_no` int unsigned NOT NULL DEFAULT 0 COMMENT "sorting numbers | 排序编号", `disabled` bool NULL DEFAULT false COMMENT "disable status | 是否停用", `title` varchar(255) NOT NULL COMMENT "menu name | 菜单显示标题", `icon` varchar(255) NOT NULL COMMENT "menu icon | 菜单图标", `hide_menu` bool NULL DEFAULT false COMMENT "hide menu | 是否隐藏菜单", `hide_breadcrumb` bool NULL DEFAULT false COMMENT "hide the breadcrumb | 隐藏面包屑", `current_active_menu` varchar(255) NULL DEFAULT '' COMMENT "set the active menu | 激活菜单", `ignore_keep_alive` bool NULL DEFAULT false COMMENT "do not keep alive the tab | 取消页面缓存", `hide_tab` bool NULL DEFAULT false COMMENT "hide the tab header | 隐藏页头", `frame_src` varchar(255) NULL DEFAULT '' COMMENT "show iframe | 内嵌 iframe", `carry_param` bool NULL DEFAULT false COMMENT "the route carries parameters or not | 携带参数", `hide_children_in_menu` bool NULL DEFAULT false COMMENT "hide children menu or not | 隐藏所有子菜单", `affix` bool NULL DEFAULT false COMMENT "affix tab | Tab 固定", `dynamic_level` int unsigned NULL DEFAULT 20 COMMENT "the maximum number of pages the router can open | 能打开的子TAB数", `real_path` varchar(255) NULL DEFAULT '' COMMENT "the real path of the route without dynamic part | 菜单路由不包含参数部分", `parent_id` bigint unsigned NULL, PRIMARY KEY (`id`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- create "sys_menu_params" table
CREATE TABLE `sys_menu_params` (`id` bigint unsigned NOT NULL COMMENT "primary key" AUTO_INCREMENT, `created_at` timestamp NOT NULL COMMENT "created time", `updated_at` timestamp NOT NULL COMMENT "last update time", `type` varchar(255) NOT NULL COMMENT "pass parameters via params or query | 参数类型", `key` varchar(255) NOT NULL COMMENT "the key of parameters | 参数键", `value` varchar(255) NOT NULL COMMENT "the value of parameters | 参数值", `menu_params` bigint unsigned NULL, PRIMARY KEY (`id`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- create "sys_roles" table
CREATE TABLE `sys_roles` (`id` bigint unsigned NOT NULL COMMENT "primary key" AUTO_INCREMENT, `created_at` timestamp NOT NULL COMMENT "created time", `updated_at` timestamp NOT NULL COMMENT "last update time", `status` tinyint unsigned NULL DEFAULT 1 COMMENT "status 1 normal 0 ban | 状态 1 正常 0 禁用", `name` varchar(255) NOT NULL COMMENT "role name | 角色名", `value` varchar(255) NOT NULL COMMENT "role value for permission control in front end | 角色值，用于前端权限控制", `default_router` varchar(255) NOT NULL DEFAULT 'dashboard' COMMENT "default menu : dashboard | 默认登录页面", `remark` varchar(255) NOT NULL DEFAULT '' COMMENT "remark | 备注", `order_no` int unsigned NOT NULL DEFAULT 0 COMMENT "order number | 排序编号", PRIMARY KEY (`id`), UNIQUE INDEX `value` (`value`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- create "sys_tokens" table
CREATE TABLE `sys_tokens` (`id` bigint unsigned NOT NULL AUTO_INCREMENT, `created_at` timestamp NOT NULL COMMENT "created time", `updated_at` timestamp NOT NULL COMMENT "last update time", `user_id` bigint unsigned NOT NULL COMMENT " User's ID | 用户的ID", `token` varchar(255) NOT NULL COMMENT "Token string | Token 字符串", `source` varchar(255) NOT NULL COMMENT "Log in source such as GitHub | Token 来源 （本地为core, 第三方如github等）", `expired_at` timestamp NOT NULL COMMENT " Expire time | 过期时间", `user_token` bigint unsigned NULL, PRIMARY KEY (`id`), UNIQUE INDEX `user_id` (`user_id`), UNIQUE INDEX `user_token` (`user_token`), INDEX `token_user_id` (`user_id`), INDEX `token_expired_at` (`expired_at`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- create "sys_users" table
CREATE TABLE `sys_users` (`id` bigint unsigned NOT NULL COMMENT "primary key" AUTO_INCREMENT, `created_at` timestamp NOT NULL COMMENT "created time", `updated_at` timestamp NOT NULL COMMENT "last update time", `status` tinyint unsigned NULL DEFAULT 1 COMMENT "status 1 normal 0 ban | 状态 1 正常 0 禁用", `username` varchar(255) NOT NULL COMMENT "user's login name | 登录名", `password` varchar(255) NOT NULL COMMENT "password | 密码", `nickname` varchar(255) NOT NULL COMMENT "nickname | 昵称", `side_mode` varchar(255) NULL DEFAULT 'dark' COMMENT "template mode | 布局方式", `base_color` varchar(255) NULL DEFAULT '#fff' COMMENT "base color of template | 后台页面色调", `active_color` varchar(255) NULL DEFAULT '#1890ff' COMMENT "active color of template | 当前激活的颜色设定", `role_id` bigint unsigned NULL DEFAULT 2 COMMENT "role id | 角色ID", `mobile` varchar(255) NOT NULL COMMENT "mobile number | 手机号", `email` varchar(255) NULL COMMENT "email | 邮箱号", `wecom` varchar(255) NULL COMMENT "wecom | 企业微信号", `avatar` varchar(512) NULL DEFAULT '' COMMENT "avatar | 头像路径", PRIMARY KEY (`id`), UNIQUE INDEX `username` (`username`), UNIQUE INDEX `nickname` (`nickname`), UNIQUE INDEX `mobile` (`mobile`), UNIQUE INDEX `user_username_email` (`username`, `email`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- create "role_menus" table
CREATE TABLE `role_menus` (`role_id` bigint unsigned NOT NULL, `menu_id` bigint unsigned NOT NULL, PRIMARY KEY (`role_id`, `menu_id`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
